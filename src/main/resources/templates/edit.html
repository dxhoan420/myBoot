<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Редактирование</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
          integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn"
          crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF"
            crossorigin="anonymous"></script>
</head>
<body>
<h1>Редактирование</h1>

<a id="modalEdit" href="#modal-container-edit"
   role="button" class="btn btn-info" data-toggle="modal">Edit</a>

<div class="modal fade" id="modal-container-edit" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="myModalEdit">
                    Edit user
                </h5>
            </div>
            <div class="modal-body">
                <div class="row justify-content-center">
                    <div class="col-6 text-center">
                        <form id="editForm" th:method="PATCH" th:action="@{'/admin/' + ${user.getId()}}" th:object="${user}">
                            <div class="form-group">
                                <label for="firstNameEdit" class="font-weight-bold">First name</label>
                                <input type="text" class="form-control" th:field="*{firstName}" id="firstNameEdit"
                                       placeholder="First name">
                            </div>
                            <div class="form-group">
                                <label for="lastNameEdit" class="font-weight-bold">Last name</label>
                                <input type="text" class="form-control" th:field="*{lastName}" id="lastNameEdit"
                                       placeholder="Last name">
                            </div>
                            <div class="form-group">
                                <label for="ageEdit" class="font-weight-bold">Age</label>
                                <input type="text" class="form-control" th:field="*{age}" id="ageEdit"
                                       placeholder="Age">
                            </div>
                            <div class="form-group">
                                <label for="emailEdit" class="font-weight-bold">Email</label>
                                <input type="text" class="form-control" th:field="*{email}" id="emailEdit"
                                       placeholder="Email">
                            </div>
                            <div class="form-group">
                                <label for="passwordEdit" class="font-weight-bold">Password</label>
                                <input type="text" class="form-control" th:field="*{password}" id="passwordEdit"
                                       placeholder="Password">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal"> Close
                </button>
                <button form="editForm" type="submit" class="btn btn-primary">
                    Edit
                </button>
            </div>
        </div>
    </div>
</div>

<form th:method="PATCH" th:action="@{'/admin/' + ${user.getId()}}" th:object="${user}">
    <label for="firstName">Имя: </label>
    <input type="text" th:field="*{firstName}" id="firstName"/>
    <label for="lastName">Фамилия: </label>
    <input type="text" th:field="*{lastName}" id="lastName"/>
    <label for="age">Возраст: </label>
    <input type="text" th:field="*{age}" id="age"/>
    <p><label for="email">Почта: </label>
        <input type="text" th:field="*{email}" id="email"/> Используется для входа</p>
    <p><label for="password">Пароль: </label>
        <input type="text" th:field="*{password}" id="password"/></p>
    <tr>
        <td>Права доступа</td>
        <td>
            <th:block th:each="role : ${roles}">
                <input type="checkbox" name="checked" th:value="${role.getId()}"/>
                <label th:text="${role.getAuthority()}"></label>
            </th:block>
        </td>
    </tr>
    <hr/>
    <input type="submit" value="Сохранить"/>
</form>
<br/>
<form class="button" th:method="GET" th:action="@{/admin}">
    <input type="submit" value="Отмена"/>
</form>
</body>
</html>